{"version":3,"file":"main.js","sources":["webpack:///main.js"],"sourcesContent":["webpackJsonp([0],[function(e,t,i){\"use strict\";function o(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function n(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(){this.setInitialState(),this.replaceUseEl(),this.el.addEventListener(\"click\",this.toggle.bind(this))}var r=function e(t,i,o){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,i);if(void 0===n){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,i,o)}if(\"value\"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(o)},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),d=function(){function e(t){var i,o,n=t.video,u=t.states,r=t.svgWrapClass,l=t.useDomId,d=t.svgId,_=t.snapAnimation;a(this,e),this.video=n,this.states=u,this.svgWrapClass=r,this.svgId=d,this.useDomId=l,this.snapAnimation=_,this.el=document.querySelector(r),this.iconEls=(i={},s(i,this.states[0].name,document.querySelector(\"#\"+this.states[0].name)),s(i,this.states[1].name,document.querySelector(\"#\"+this.states[1].name)),i),this.statesObj=(o={},s(o,this.states[0].name,this.states[1].name),s(o,this.states[1].name,this.states[0].name),o)}return l(e,[{key:\"setInitialState\",value:function(){var e=this.el.querySelector(\"use\").getAttribute(\"xlink:href\");this.state=this.el.querySelector(e).getAttribute(\"data-state\")}},{key:\"replaceUseEl\",value:function(){var e=Snap(\"#\"+this.svgId).paper.path(),t=document.getElementById(this.useDomId);t.parentNode.removeChild(t),Snap(\"#\"+this.svgId).append(e),e.attr(\"class\",\"c_\"+this.useDomId).attr(\"d\",this.getStateIconPath())}},{key:\"toggle\",value:function(){var e=Snap.select(\".c_\"+this.useDomId);this.toNextState(),e.animate({d:this.getStateIconPath()},this.snapAnimation.time,this.snapAnimation.name)}},{key:\"toNextState\",value:function(){var e=this;this.state=\"max\"===this.state?this.statesObj.mute:this.state,this.state=this.statesObj[this.state],this.states.forEach(function(t){Object.is(e.state,t.name)&&t.callBack.call(e)})}},{key:\"getStateIconPath\",value:function(){return this.iconEls[this.state].getAttribute(\"d\")}},{key:\"init\",value:function(){u.call(this)}}]),e}(),_=function(e){function t(e){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.statesObj.max=\"max\",i.iconEls.max=document.querySelector(\"#max\"),i}return n(t,e),l(t,[{key:\"goMute\",value:function(){this.state=this.statesObj.med,this.animate()}},{key:\"goMed\",value:function(){this.state=this.statesObj.mute,this.animate()}},{key:\"goMax\",value:function(){this.state=this.statesObj.max,this.animate()}},{key:\"replaceUseEl\",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"replaceUseEl\",this).call(this),this.path=Snap.select(\".c_\"+this.useDomId)}},{key:\"animate\",value:function(){this.path.animate({d:this.getStateIconPath()},this.snapAnimation.time,this.snapAnimation.name)}}]),t}(d);e.exports={},e.exports.svg={volumeSvgUtil:_,svgUtil:d}},function(e,t,i){\"use strict\";function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),s=i(6),a=function(e){return e&&e.__esModule?e:{default:e}}(s);e.exports=function(){function e(){o(this,e)}return n(e,[{key:\"getDom\",value:function(e){return e.includes(\".\")?document.getElementsByClassName(e.substring(1)):document.getElementById(e)}},{key:\"log\",value:function(e){a.default.debug&&console.log(a.default.num+++\"：videoPlayer---\\x3e\",e)}},{key:\"i\",value:function(e){a.default.debug&&console.log(a.default.num+++\" special: \"+\"-\".repeat(10)+\"> str\")}},{key:\"generateDom\",value:function(){return new Proxy({},{get:function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=document.createElement(t),o=!0,n=!1,s=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var r=a.value;i.setAttribute(r,e[r])}}catch(e){n=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw s}}for(var l=arguments.length,d=Array(l>1?l-1:0),_=1;_<l;_++)d[_-1]=arguments[_];var c=!0,m=!1,v=void 0;try{for(var h,p=d[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var f=h.value;\"string\"==typeof f&&(f=document.createTextNode(f)),i.appendChild(f)}}catch(e){m=!0,v=e}finally{try{!c&&p.return&&p.return()}finally{if(m)throw v}}return i}}})}},{key:\"addChildren\",value:function(e,t){t.appendChild(e)}}]),e}()},function(e,t,i){e.exports=i(3)},function(e,t,i){\"use strict\";function o(e){var t=new u(e);t.init(),window.addEventListener(\"resize\",function(){t.recalcute_dom()});var i=new s({video:e,states:[{name:\"mute\",callBack:function(){this.video.volume=0,t.doms.ui_volume_inner.style.width=t.doms.ui_volume_point.style.left=0}},{name:\"med\",callBack:function(){e.volume=10/t.doms.ui_volume_out.clientWidth,t.doms.ui_volume_inner.style.width=t.doms.ui_volume_point.style.left=\"10px\"}}],svgWrapClass:\".volume\",useDomId:\"volume-btn-use\",svgId:\"svg-volume\",snapAnimation:{time:200,name:mina.linear}}),o=new a({video:e,states:[{name:\"paused\",callBack:function(){this.video.play()}},{name:\"playing\",callBack:function(){this.video.pause()}}],svgWrapClass:\".js-button\",useDomId:\"play-btn-use\",svgId:\"svgicon\",snapAnimation:{time:200,name:mina.linear}});o.init(),i.init(),window.playButton=o,window.volumeButton=i}i(4),i(5);var n=i(1),s=(i(0),i(0).svg.volumeSvgUtil),a=i(0).svg.svgUtil,u=i(7),r=new n,l={init:function(e,t,i,n){e.src=t,i&&e.setAttribute(\"data-dashjs-player\",\"\"),n&&o(e)}},d=r.getDom(\"video\");l.init(d,\"https://dash.akamaized.net/envivio/EnvivioDash3/manifest.mpd\",!0,!0)},function(e,t,i){\"use strict\";!function(e){function t(){var e,t;e=document.createElement(\"div\"),e.innerHTML=i,i=null,(t=e.getElementsByTagName(\"svg\")[0])&&(t.setAttribute(\"aria-hidden\",\"true\"),t.style.position=\"absolute\",t.style.width=0,t.style.height=0,t.style.overflow=\"hidden\",a(t,document.body))}var i='<svg><symbol id=\"icon-fanhui-copy\" viewBox=\"0 0 1024 1024\"><path d=\"M305.866 532.207v0c1.777 3.079 3.079 6.39 5.802 9.112 0.594 0.477 1.064 0.827 1.539 1.303 0.709 0.594 0.946 1.539 1.54 2.128l331.383 319.434c8.757 8.519 20.121 12.781 31.483 12.781 11.836 0 23.79-4.733 32.666-13.964 17.398-18.107 16.924-46.871-1.183-64.265l-298.956-288.071 300.139-283.922c18.225-17.28 19.057-46.040 1.777-64.265-17.281-18.226-46.040-19.057-64.265-1.777l-334.462 316.355c-14.676 13.844-17.399 35.149-9.113 52.429 0.35 0.945 1.182 1.777 1.653 2.722v0zM305.866 532.207z\"  ></path></symbol><symbol id=\"icon-fanhui-copy1\" viewBox=\"0 0 1024 1024\"><path d=\"M718.134 491.79299999999995v0c-1.777000000000001-3.0789999999999997-3.0790000000000024-6.389999999999998-5.802000000000003-9.111999999999998-0.5940000000000001-0.47699999999999976-1.0640000000000005-0.8269999999999996-1.5390000000000004-1.3029999999999995-0.7090000000000001-0.5939999999999996-0.9460000000000002-1.5389999999999995-1.5400000000000007-2.1279999999999997l-331.38300000000004-319.4339999999999c-8.757-8.519-20.121000000000006-12.780999999999992-31.483000000000004-12.780999999999988-11.836000000000002 5.329070518200751e-15-23.789999999999992 4.733000000000008-32.66599999999999 13.964000000000006-17.39799999999999 18.107000000000003-16.92399999999998 46.871 1.1830000000000247 64.265l298.9560000000001 288.0709999999999-300.13899999999995 283.92200000000014c-18.224999999999998 17.28000000000001-19.056999999999988 46.040000000000006-1.7769999999999762 64.265 17.281000000000006 18.225999999999996 46.040000000000006 19.056999999999988 64.265 1.7769999999999762l334.4619999999999-316.3550000000002c14.675999999999991-13.844000000000005 17.398999999999983-35.149 9.112999999999982-52.429-0.35000000000000014-0.9449999999999997-1.1820000000000004-1.7769999999999995-1.653000000000001-2.7219999999999995v0zM718.134 491.79299999999995z\"  ></path></symbol><symbol id=\"icon-right\" viewBox=\"0 0 1024 1024\"><path d=\"M356.51594248 512.33968684l403.41955066-403.42645486c16.95396363-16.9429169 16.95396364-44.44374273 0-61.38804047-16.9429169-16.95396363-44.44374273-16.95396364-61.38804047 0l-434.11840383 434.12116552c-16.95810615 16.9429169-16.95810615 44.44374273 0 61.38804047l434.11978467 434.11978467c8.47422013 8.47836265 19.58446539 12.71892482 30.69332982 12.71892482s22.22049052-4.24056217 30.69332982-12.71892482c16.95810615-16.9429169 16.95810615-44.44374273 0-61.38804047l-403.42231235-403.4278357z\"  ></path></symbol><symbol id=\"icon-right1\" viewBox=\"0 0 1024 1024\"><path d=\"M669.95205843 511.65492131l-409.82303559 409.83004937c-17.22307416 17.21185209-17.22307416 45.14919896 1e-8 62.36245382 17.21185209 17.22307416 45.14919896 17.22307416 62.3624538 0l441.00917214-441.01197767c17.22728244-17.21185208 17.22728243-45.14919896 1e-8-62.36245382l-441.0105749-441.0105749c-8.60873156-8.61293983-19.89532992-12.92081252-31.18052554-12.92081251s-22.57319672 4.30787268-31.18052551 12.92081251c-17.22728244 17.21185208-17.22728243 45.14919896 0 62.36245381l409.8258411 409.83145214z\"  ></path></symbol></svg>',o=function(){var e=document.getElementsByTagName(\"script\");return e[e.length-1]}(),n=o.getAttribute(\"data-injectcss\"),s=function(e,t){t.parentNode.insertBefore(e,t)},a=function(e,t){t.firstChild?s(e,t.firstChild):t.appendChild(e)};if(n&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write(\"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>\")}catch(e){console&&console.log(e)}}!function(t){if(document.addEventListener)if(~[\"complete\",\"loaded\",\"interactive\"].indexOf(document.readyState))setTimeout(t,0);else{var i=function e(){document.removeEventListener(\"DOMContentLoaded\",e,!1),t()};document.addEventListener(\"DOMContentLoaded\",i,!1)}else document.attachEvent&&function(e,t){var i=e.document,o=!1,n=function(){o||(o=!0,t())};!function e(){try{i.documentElement.doScroll(\"left\")}catch(t){return void setTimeout(e,50)}n()}(),i.onreadystatechange=function(){\"complete\"==i.readyState&&(i.onreadystatechange=null,n())}}(e,t)}(t)}(window)},function(e,t){},function(e,t,i){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o={num:0,debug:!0};t.default=o},function(e,t,i){\"use strict\";function o(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),a=i(1),u=new a;e.exports=function(){function e(t){n(this,e),this.video=t,this.video_info={duration:\"\",currentTime:\"\",volume:\"\",speed:\"\",buffered:\"\"},this.listen_type={canplay:\"canplay\",play:\"play\",playing:\"playing\",timeupdate:\"timeupdate\",waiting:\"waiting\"},this.keyboard={space:32,esc:27},this.doms={ui_progress_wrap:u.getDom(\"progress-wrap\"),ui_progress_point:u.getDom(\"progress-point\"),ui_buffered:u.getDom(\"buffered-progress\"),ui_duration:u.getDom(\"video-duration\"),ui_progress:u.getDom(\"video-progress-inner\"),ui_fullScreen:u.getDom(\"full-screen\"),ui_video_current_time:u.getDom(\"video-current-time\"),ui_video_setting:u.getDom(\"setting-btn\"),ui_video_setting_menu:u.getDom(\"setting-menu\"),ui_video_speed_menu:u.getDom(\"speed-menu\"),ui_video_speed_parent_menu:u.getDom(\"speed-parent-menu\"),ui_speed_array:[].concat(o(u.getDom(\".speed-value\"))),ui_back_setting:u.getDom(\"back-setting-parent\"),ui_theater_btn:u.getDom(\"theater-btn\"),ui_video_wrap:u.getDom(\"video-wrap\"),ui_volume_out:u.getDom(\"volume-out\"),ui_volume_inner:u.getDom(\"volume-inner\"),ui_volume_point:u.getDom(\"volume-point\"),ui_volume_control:u.getDom(\"volume-control\"),ui_volume_btn:u.getDom(\"volume-btn\"),ui_control_left:u.getDom(\"control-left\"),ui_hover_wrap:u.getDom(\"hover-wrap\"),ui_speed_tag:u.getDom(\"speed-tag\"),ui_bottom_control:u.getDom(\"bottom-control\"),ui_video_status_pause:u.getDom(\"video-status-btn\"),ui_pause_status:u.getDom(\"pause-status\"),ui_play_status:u.getDom(\"play-status\"),ui_spinner:u.getDom(\"spinner\"),ui_theater_wrap:u.getDom(\"theater-wrap\"),ui_progress_visual_hover:u.getDom(\"progress-visual-hover\")}}return s(e,[{key:\"init\",value:function(){var e=this;this.listen(),this.proxy_video_info=this.proxy_render_to_view(),this.init_event(),window.onload=function(){e.init_volume()}}},{key:\"in_loading\",value:function(){this.doms.ui_spinner.style.display=\"block\"}},{key:\"after_loading\",value:function(){this.doms.ui_spinner.style.display=\"none\"}},{key:\"recalcute_dom\",value:function(){this.proxy_video_info=this.proxy_render_to_view()}},{key:\"init_volume\",value:function(){var e=parseInt(this.get_out_css(this.doms.ui_volume_out).width)||50;this.video.volume=10/e,this.doms.ui_volume_inner.style.width=this.doms.ui_volume_point.style.left=\"10px\"}},{key:\"sync_video_info\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.video_info;e.currentTime=this.video.currentTime,e.volume=this.video.volume,e.buffered=this.video.buffered.end(0)}},{key:\"get_out_css\",value:function(e){if(void 0!==e.currentStyle)var t=e.currentStyle;else if(void 0!==window.getComputedStyle)var t=window.getComputedStyle(e,null);return t}},{key:\"listen\",value:function(){var e=this;this.video.addEventListener(this.listen_type.canplay,function(){e.proxy_video_info.duration=e.video.duration,e.after_loading(),u.log(\"video-canplay-now\")}),this.video.addEventListener(this.listen_type.waiting,function(){u.log(\"--------video is loading------\"),e.in_loading()}),this.video.addEventListener(this.listen_type.play,function(){e.sync_and_log({event_name:e.listen_type.play}),u.log(\"ready! video duration is ----\\x3e\"+e.video.duration)}),this.video.addEventListener(this.listen_type.playing,function(){e.sync_and_log({event_name:e.listen_type.timeupdate})}),this.video.addEventListener(this.listen_type.timeupdate,function(){u.log(\"video-play-time-change-now\"),e.sync_and_log({event_name:e.listen_type.timeupdate,proxy:e.proxy_video_info})})}},{key:\"sync_and_log\",value:function(e){var t=e.event_name,i=e.proxy;u.log(t),this.sync_video_info(i),this.print_video_info()}},{key:\"print_video_info\",value:function(){var e=this;Object.keys(this.video_info).forEach(function(t){u.log(e.video_info[t])})}},{key:\"proxy_render_to_view\",value:function(){var e=this,t=this.doms.ui_progress_wrap.clientWidth;return u.log(\"get progress wrap width is ----\\x3e \"+t),new Proxy(this.video_info,{set:function(i,o,n,s){if(u.log(\"ui ----\\x3e setting ---\\x3e \"+o),Object.is(\"currentTime\",o)&&(e.doms.ui_progress.style.width=e.doms.ui_progress_point.style.left=e.cal_current_progress_buffered_width(n,e.video_info.duration,t)()+\"px\",e.doms.ui_buffered.style.width=e.cal_current_progress_buffered_width(e.video_info.buffered,e.video_info.duration,t)()+\"px\",e.doms.ui_video_current_time.innerHTML=e.format_duration(n.toFixed(0))),Object.is(\"duration\",o)){e.doms.ui_duration.innerHTML=e.format_duration(n.toFixed(0));var a=t/4;e.add_yellow_point(a,2*a,3*a)}return Reflect.set(i,o,n,s)}})}},{key:\"cal_current_progress_buffered_width\",value:function(e,t,i){return function(){return e/t*i}}},{key:\"format_duration\",value:function(e){var t=parseInt(e,10),i=Math.floor(t/3600),o=Math.floor((t-3600*i)/60),n=t-3600*i-60*o;return i<10&&(i=\"0\"+i),o<10&&(o=\"0\"+o),n<10&&(n=\"0\"+n),i+\":\"+o+\":\"+n}},{key:\"generate_yellow_point\",value:function(e){return u.generateDom().div({class:\"yellow-point\",style:\"left:\"+e+\"px\"})}},{key:\"add_yellow_point\",value:function(){for(var e=this,t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];i.forEach(function(t){u.i(t);var i=e.generate_yellow_point(t);u.addChildren(i,e.doms.ui_progress)})}},{key:\"init_event\",value:function(){var e=this;this.bind_event(this.doms.ui_fullScreen,\"click\",function(){e.full_screen()});var t=!1,i=!1;this.bind_event(this.doms.ui_progress_visual_hover,\"mousedown\",function(i){t=!0,u.log(\"mouse donw 事件执行\"),e.update_progress_after_drag(i.pageX)}),this.bind_event(this.doms.ui_progress_visual_hover,\"mousemove\",function(t){var i=t.pageX-e.getDomOffset(e.doms.ui_hover_wrap).left+\"px\";e.doms.ui_hover_wrap.style.width=i}),this.bind_event(this.doms.ui_progress_visual_hover,\"mouseover\",function(t){var i=t.pageX-e.getDomOffset(e.doms.ui_hover_wrap).left+\"px\";e.doms.ui_hover_wrap.style.width=i}),this.bind_event(this.doms.ui_progress_visual_hover,\"mouseleave\",function(t){e.doms.ui_hover_wrap.style.width=0}),this.bind_event(this.doms.ui_volume_out,\"mousedown\",function(t){i=!0,e.update_volume_drag(t.pageX)}),document.addEventListener(\"mouseup\",function(o){t?(t=!1,e.update_progress_after_drag(o.pageX),u.log(\"mouse up event has executed\")):i&&(i=!1,e.update_volume_drag(o.pageX))}),document.addEventListener(\"mousemove\",function(o){u.log(\"mousemove event has executed\"),t?e.update_progress_after_drag(o.pageX):i&&e.update_volume_drag(o.pageX)}),this.bind_event(this.doms.ui_video_speed_parent_menu,\"click\",function(t){e.show_speed_menu(),e.hide_setting_menu()}),this.bind_event(this.doms.ui_video_setting,\"click\",function(t){var i=t.currentTarget,o=i.dataset.state;Object.is(\"open\",o)?e.hide_setting_menu():(e.show_setting_menu(),e.equal(\"block\",e.get_display_state(e.doms.ui_video_speed_menu))&&e.hide_speed_menu())}),this.doms.ui_speed_array.forEach(function(t){e.bind_event(t,\"click\",function(t){var i=t.currentTarget.innerHTML;if(i=e.equal(\"Normal\",i)?1:i,!Number.isInteger(parseInt(i)))throw new Error(\"speed is need number\");e.doms.ui_speed_tag.innerHTML=e.video.playbackRate=1===i?1:i,e.hide_speed_menu()})}),this.bind_event(this.doms.ui_back_setting,\"click\",function(t){e.hide_speed_menu(),e.show_setting_menu()}),this.bind_event(this.doms.ui_theater_btn,\"click\",function(t){e.toggle_theater(),e.recalcute_dom()}),this.bind_event(this.doms.ui_volume_btn,\"mouseover\",function(){e.show_volume_control()}),this.bind_event(this.doms.ui_control_left,\"mouseleave\",function(){e.hide_volume_control()}),this.bind_event(this.doms.ui_video_wrap,\"mouseover\",function(t){e.show_bottom_control()}),this.bind_event(this.doms.ui_video_wrap,\"mouseleave\",function(t){e.hide_bottom_control()}),this.bind_event(this.video,\"click\",function(t){e.video.paused?(e.video.play(),e.doms.ui_play_status.style.display=\"block\"):(e.video.pause(),e.doms.ui_pause_status.style.display=\"block\"),playButton.toggle(),e.doms.ui_video_status_pause.style.animation=\"video_status .3s linear\",setTimeout(function(){e.doms.ui_video_status_pause.style.animation=\"\",e.doms.ui_play_status.style.display=\"none\",e.doms.ui_pause_status.style.display=\"none\"},400)}),document.addEventListener(\"keydown\",function(t){var i=t.keyCode;if(u.log(i),i==e.keyboard.space)playButton.toggle(),t.preventDefault();else if(i==e.keyboard.esc){var o=u.getDom(\"fullscreen-wrap\");o.classList.contains(\"video-background\")&&(o.classList.remove(\"video-background\"),e.show_theater_btn(),e.recalcute_dom())}})}},{key:\"show_bottom_control\",value:function(){this.doms.ui_bottom_control.style.opacity=1}},{key:\"hide_bottom_control\",value:function(){this.doms.ui_bottom_control.style.opacity=0}},{key:\"show_volume_control\",value:function(){this.doms.ui_volume_control.style.opacity=1,this.doms.ui_volume_control.style.width=\"50px\"}},{key:\"hide_volume_control\",value:function(){this.doms.ui_volume_control.style.opacity=0,this.doms.ui_volume_control.style.width=\"0\"}},{key:\"toggle_theater\",value:function(){\"100%\"===this.doms.ui_video_wrap.style.width?(this.doms.ui_video_wrap.style.width=\"70%\",this.doms.ui_theater_wrap.style.width=\"100%\",this.doms.ui_theater_btn.style.transform=\"scale(1)\"):(this.doms.ui_video_wrap.style.width=\"100%\",this.doms.ui_theater_wrap.style.width=\"90%\",this.doms.ui_theater_wrap.style.margin=\"auto\",this.doms.ui_theater_btn.style.transform=\"scale(0.8)\")}},{key:\"getOffset\",value:function(e){for(var t=0,i=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,i+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:i,left:t}}},{key:\"getDomOffset\",value:function(e){return e=e.getBoundingClientRect(),{left:e.left+window.scrollX,top:e.top+window.scrollY}}},{key:\"equal\",value:function(e,t){return\"string\"==typeof e&&(e=this.format_str(e)),\"string\"==typeof t&&(t=this.format_str(t)),Object.is(e,t)}},{key:\"format_str\",value:function(e){return e.replace(/^\\s+|\\s+$/g,\"\")}},{key:\"get_display_state\",value:function(e){return e.style.display}},{key:\"hide_setting_menu\",value:function(){this.doms.ui_video_setting_menu.style.display=\"none\",this.doms.ui_video_setting.dataset.state=\"close\",this.doms.ui_video_setting.style.transform=\"rotate(0deg)\"}},{key:\"show_setting_menu\",value:function(){this.doms.ui_video_setting_menu.style.display=\"block\",this.doms.ui_video_setting.dataset.state=\"open\",this.doms.ui_video_setting.style.transform=\"rotate(30deg)\"}},{key:\"hide_speed_menu\",value:function(){this.doms.ui_video_speed_menu.style.display=\"none\"}},{key:\"show_speed_menu\",value:function(){this.doms.ui_video_speed_menu.style.display=\"block\"}},{key:\"update_progress_after_drag\",value:function(e){var t=e-this.getDomOffset(this.doms.ui_progress_point).left,i=parseInt(this.doms.ui_progress_wrap.clientWidth),o=t+parseInt(this.doms.ui_progress.style.width);o=o<0?0:o>i?i:o,this.doms.ui_progress_point.style.left=this.doms.ui_progress.style.width=o+\"px\",this.video.currentTime=parseInt(this.doms.ui_progress.style.width)/i*this.video_info.duration}},{key:\"update_volume_drag\",value:function(e){var t=e-this.getDomOffset(this.doms.ui_volume_point).left,i=t+parseInt(this.doms.ui_volume_inner.clientWidth),o=parseInt(this.doms.ui_volume_out.clientWidth);u.log(i),i=i<0?0:i>o?o:i,this.doms.ui_volume_inner.style.width=i+\"px\",this.doms.ui_volume_point.style.left=i-5+\"px\";var n=parseInt(this.doms.ui_volume_inner.style.width)/o;u.log(\"the volume is ->\",n),this.video.volume=n,0===n?volumeButton.goMute():n<.5?volumeButton.goMed():n>.5&&volumeButton.goMax(),u.log(this.doms.ui_volume_inner.style.width,this.doms.ui_volume_out.clientWidth)}},{key:\"hide_theater_btn\",value:function(){this.doms.ui_theater_btn.style.display=\"none\"}},{key:\"show_theater_btn\",value:function(){this.doms.ui_theater_btn.style.display=\"block\"}},{key:\"full_screen\",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.video,u.getDom(\"fullscreen-wrap\"));e.classList.contains(\"video-background\")?(e.classList.remove(\"video-background\"),this.show_theater_btn(),this.recalcute_dom()):(e.classList.add(\"video-background\"),this.hide_theater_btn(),this.recalcute_dom())}},{key:\"bind_event\",value:function(e,t,i){e.addEventListener(t,function(e){i(e)})}}]),e}()}],[2]);\n\n\n// WEBPACK FOOTER //\n// main.js"],"mappings":"AAAA","sourceRoot":""}